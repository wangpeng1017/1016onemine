<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="dataGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#52c41a;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#13c2c2;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-color="#00000020"/>
    </filter>
  </defs>
  
  <rect width="1200" height="800" fill="#fafafa"/>
  
  <!-- 标题 -->
  <rect x="0" y="0" width="1200" height="60" fill="url(#dataGrad)"/>
  <text x="600" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="white">
    矿山监测系统 - 数据架构图
  </text>
  
  <!-- 数据源层 -->
  <rect x="50" y="80" width="1100" height="150" rx="8" fill="#f0f9ff" stroke="#1890ff" stroke-width="2" filter="url(#shadow)"/>
  <text x="70" y="105" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1890ff">数据源层 (Data Sources)</text>
  
  <!-- 监测设备数据 -->
  <rect x="80" y="120" width="200" height="90" rx="4" fill="#ffffff" stroke="#52c41a" stroke-width="1"/>
  <text x="180" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">监测设备数据</text>
  <text x="90" y="155" font-family="Arial, sans-serif" font-size="10" fill="#666">• GNSS位移数据</text>
  <text x="90" y="170" font-family="Arial, sans-serif" font-size="10" fill="#666">• 裂缝计监测</text>
  <text x="90" y="185" font-family="Arial, sans-serif" font-size="10" fill="#666">• 土压力传感器</text>
  <text x="90" y="200" font-family="Arial, sans-serif" font-size="10" fill="#666">• 雷达监测数据</text>
  
  <!-- 气象数据 -->
  <rect x="300" y="120" width="200" height="90" rx="4" fill="#ffffff" stroke="#1890ff" stroke-width="1"/>
  <text x="400" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">气象环境数据</text>
  <text x="310" y="155" font-family="Arial, sans-serif" font-size="10" fill="#666">• 温度湿度</text>
  <text x="310" y="170" font-family="Arial, sans-serif" font-size="10" fill="#666">• 风速风向</text>
  <text x="310" y="185" font-family="Arial, sans-serif" font-size="10" fill="#666">• 降水量</text>
  <text x="310" y="200" font-family="Arial, sans-serif" font-size="10" fill="#666">• 能见度</text>
  
  <!-- 空天风险数据 -->
  <rect x="520" y="120" width="200" height="90" rx="4" fill="#ffffff" stroke="#722ed1" stroke-width="1"/>
  <text x="620" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">空天风险数据</text>
  <text x="530" y="155" font-family="Arial, sans-serif" font-size="10" fill="#666">• 低空飞行器</text>
  <text x="530" y="170" font-family="Arial, sans-serif" font-size="10" fill="#666">• 电磁干扰</text>
  <text x="530" y="185" font-family="Arial, sans-serif" font-size="10" fill="#666">• 卫星信号</text>
  <text x="530" y="200" font-family="Arial, sans-serif" font-size="10" fill="#666">• 空域入侵</text>
  
  <!-- 系统运行数据 -->
  <rect x="740" y="120" width="200" height="90" rx="4" fill="#ffffff" stroke="#faad14" stroke-width="1"/>
  <text x="840" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">系统运行数据</text>
  <text x="750" y="155" font-family="Arial, sans-serif" font-size="10" fill="#666">• 设备状态</text>
  <text x="750" y="170" font-family="Arial, sans-serif" font-size="10" fill="#666">• 系统日志</text>
  <text x="750" y="185" font-family="Arial, sans-serif" font-size="10" fill="#666">• 用户操作</text>
  <text x="750" y="200" font-family="Arial, sans-serif" font-size="10" fill="#666">• 告警记录</text>
  
  <!-- 外部接口数据 -->
  <rect x="960" y="120" width="180" height="90" rx="4" fill="#ffffff" stroke="#ff4d4f" stroke-width="1"/>
  <text x="1050" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">外部接口数据</text>
  <text x="970" y="155" font-family="Arial, sans-serif" font-size="10" fill="#666">• 第三方API</text>
  <text x="970" y="170" font-family="Arial, sans-serif" font-size="10" fill="#666">• 气象服务</text>
  <text x="970" y="185" font-family="Arial, sans-serif" font-size="10" fill="#666">• 地图服务</text>
  <text x="970" y="200" font-family="Arial, sans-serif" font-size="10" fill="#666">• 通知服务</text>
  
  <!-- 数据处理层 -->
  <rect x="50" y="250" width="1100" height="150" rx="8" fill="#f6ffed" stroke="#52c41a" stroke-width="2" filter="url(#shadow)"/>
  <text x="70" y="275" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#52c41a">数据处理层 (Data Processing)</text>
  
  <!-- 实时数据流 -->
  <rect x="80" y="290" width="250" height="90" rx="4" fill="#ffffff" stroke="#1890ff" stroke-width="1"/>
  <text x="205" y="310" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">实时数据流处理</text>
  <text x="90" y="325" font-family="Arial, sans-serif" font-size="10" fill="#666">• 数据清洗与验证</text>
  <text x="90" y="340" font-family="Arial, sans-serif" font-size="10" fill="#666">• 实时计算与分析</text>
  <text x="90" y="355" font-family="Arial, sans-serif" font-size="10" fill="#666">• 异常检测与告警</text>
  <text x="90" y="370" font-family="Arial, sans-serif" font-size="10" fill="#666">• 数据格式标准化</text>
  
  <!-- 批量数据处理 -->
  <rect x="350" y="290" width="250" height="90" rx="4" fill="#ffffff" stroke="#722ed1" stroke-width="1"/>
  <text x="475" y="310" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">批量数据处理</text>
  <text x="360" y="325" font-family="Arial, sans-serif" font-size="10" fill="#666">• 历史数据分析</text>
  <text x="360" y="340" font-family="Arial, sans-serif" font-size="10" fill="#666">• 趋势预测建模</text>
  <text x="360" y="355" font-family="Arial, sans-serif" font-size="10" fill="#666">• 统计报表生成</text>
  <text x="360" y="370" font-family="Arial, sans-serif" font-size="10" fill="#666">• 数据挖掘分析</text>
  
  <!-- 数据融合 -->
  <rect x="620" y="290" width="250" height="90" rx="4" fill="#ffffff" stroke="#faad14" stroke-width="1"/>
  <text x="745" y="310" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">多源数据融合</text>
  <text x="630" y="325" font-family="Arial, sans-serif" font-size="10" fill="#666">• 时空数据对齐</text>
  <text x="630" y="340" font-family="Arial, sans-serif" font-size="10" fill="#666">• 多维数据关联</text>
  <text x="630" y="355" font-family="Arial, sans-serif" font-size="10" fill="#666">• 综合风险评估</text>
  <text x="630" y="370" font-family="Arial, sans-serif" font-size="10" fill="#666">• 智能决策支持</text>
  
  <!-- 数据质量管理 -->
  <rect x="890" y="290" width="250" height="90" rx="4" fill="#ffffff" stroke="#ff4d4f" stroke-width="1"/>
  <text x="1015" y="310" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">数据质量管理</text>
  <text x="900" y="325" font-family="Arial, sans-serif" font-size="10" fill="#666">• 数据完整性检查</text>
  <text x="900" y="340" font-family="Arial, sans-serif" font-size="10" fill="#666">• 准确性验证</text>
  <text x="900" y="355" font-family="Arial, sans-serif" font-size="10" fill="#666">• 一致性校验</text>
  <text x="900" y="370" font-family="Arial, sans-serif" font-size="10" fill="#666">• 数据血缘追踪</text>
  
  <!-- 数据存储层 -->
  <rect x="50" y="420" width="1100" height="150" rx="8" fill="#fff7e6" stroke="#faad14" stroke-width="2" filter="url(#shadow)"/>
  <text x="70" y="445" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#faad14">数据存储层 (Data Storage)</text>
  
  <!-- 时序数据库 -->
  <rect x="80" y="460" width="200" height="90" rx="4" fill="#ffffff" stroke="#1890ff" stroke-width="1"/>
  <text x="180" y="480" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">时序数据库</text>
  <text x="90" y="495" font-family="Arial, sans-serif" font-size="10" fill="#666">• InfluxDB</text>
  <text x="90" y="510" font-family="Arial, sans-serif" font-size="10" fill="#666">• 监测数据存储</text>
  <text x="90" y="525" font-family="Arial, sans-serif" font-size="10" fill="#666">• 高频时间序列</text>
  <text x="90" y="540" font-family="Arial, sans-serif" font-size="10" fill="#666">• 快速查询优化</text>
  
  <!-- 关系数据库 -->
  <rect x="300" y="460" width="200" height="90" rx="4" fill="#ffffff" stroke="#52c41a" stroke-width="1"/>
  <text x="400" y="480" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">关系数据库</text>
  <text x="310" y="495" font-family="Arial, sans-serif" font-size="10" fill="#666">• PostgreSQL</text>
  <text x="310" y="510" font-family="Arial, sans-serif" font-size="10" fill="#666">• 配置数据</text>
  <text x="310" y="525" font-family="Arial, sans-serif" font-size="10" fill="#666">• 用户权限</text>
  <text x="310" y="540" font-family="Arial, sans-serif" font-size="10" fill="#666">• 系统元数据</text>
  
  <!-- 文档数据库 -->
  <rect x="520" y="460" width="200" height="90" rx="4" fill="#ffffff" stroke="#722ed1" stroke-width="1"/>
  <text x="620" y="480" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">文档数据库</text>
  <text x="530" y="495" font-family="Arial, sans-serif" font-size="10" fill="#666">• MongoDB</text>
  <text x="530" y="510" font-family="Arial, sans-serif" font-size="10" fill="#666">• 非结构化数据</text>
  <text x="530" y="525" font-family="Arial, sans-serif" font-size="10" fill="#666">• 日志记录</text>
  <text x="530" y="540" font-family="Arial, sans-serif" font-size="10" fill="#666">• 灵活schema</text>
  
  <!-- 缓存存储 -->
  <rect x="740" y="460" width="200" height="90" rx="4" fill="#ffffff" stroke="#ff4d4f" stroke-width="1"/>
  <text x="840" y="480" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">缓存存储</text>
  <text x="750" y="495" font-family="Arial, sans-serif" font-size="10" fill="#666">• Redis</text>
  <text x="750" y="510" font-family="Arial, sans-serif" font-size="10" fill="#666">• 热点数据缓存</text>
  <text x="750" y="525" font-family="Arial, sans-serif" font-size="10" fill="#666">• 会话管理</text>
  <text x="750" y="540" font-family="Arial, sans-serif" font-size="10" fill="#666">• 实时计算结果</text>
  
  <!-- 文件存储 -->
  <rect x="960" y="460" width="180" height="90" rx="4" fill="#ffffff" stroke="#13c2c2" stroke-width="1"/>
  <text x="1050" y="480" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">文件存储</text>
  <text x="970" y="495" font-family="Arial, sans-serif" font-size="10" fill="#666">• 对象存储</text>
  <text x="970" y="510" font-family="Arial, sans-serif" font-size="10" fill="#666">• 图片视频</text>
  <text x="970" y="525" font-family="Arial, sans-serif" font-size="10" fill="#666">• 备份归档</text>
  <text x="970" y="540" font-family="Arial, sans-serif" font-size="10" fill="#666">• 大文件管理</text>
  
  <!-- 数据服务层 -->
  <rect x="50" y="590" width="1100" height="150" rx="8" fill="#f0f5ff" stroke="#722ed1" stroke-width="2" filter="url(#shadow)"/>
  <text x="70" y="615" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#722ed1">数据服务层 (Data Services)</text>
  
  <!-- API网关 -->
  <rect x="80" y="630" width="200" height="90" rx="4" fill="#ffffff" stroke="#1890ff" stroke-width="1"/>
  <text x="180" y="650" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">API网关</text>
  <text x="90" y="665" font-family="Arial, sans-serif" font-size="10" fill="#666">• 统一接口入口</text>
  <text x="90" y="680" font-family="Arial, sans-serif" font-size="10" fill="#666">• 请求路由分发</text>
  <text x="90" y="695" font-family="Arial, sans-serif" font-size="10" fill="#666">• 访问控制</text>
  <text x="90" y="710" font-family="Arial, sans-serif" font-size="10" fill="#666">• 限流熔断</text>
  
  <!-- 数据查询服务 -->
  <rect x="300" y="630" width="200" height="90" rx="4" fill="#ffffff" stroke="#52c41a" stroke-width="1"/>
  <text x="400" y="650" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">数据查询服务</text>
  <text x="310" y="665" font-family="Arial, sans-serif" font-size="10" fill="#666">• 多维查询</text>
  <text x="310" y="680" font-family="Arial, sans-serif" font-size="10" fill="#666">• 聚合统计</text>
  <text x="310" y="695" font-family="Arial, sans-serif" font-size="10" fill="#666">• 分页排序</text>
  <text x="310" y="710" font-family="Arial, sans-serif" font-size="10" fill="#666">• 查询优化</text>
  
  <!-- 实时推送服务 -->
  <rect x="520" y="630" width="200" height="90" rx="4" fill="#ffffff" stroke="#722ed1" stroke-width="1"/>
  <text x="620" y="650" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">实时推送服务</text>
  <text x="530" y="665" font-family="Arial, sans-serif" font-size="10" fill="#666">• WebSocket</text>
  <text x="530" y="680" font-family="Arial, sans-serif" font-size="10" fill="#666">• 消息队列</text>
  <text x="530" y="695" font-family="Arial, sans-serif" font-size="10" fill="#666">• 事件驱动</text>
  <text x="530" y="710" font-family="Arial, sans-serif" font-size="10" fill="#666">• 订阅发布</text>
  
  <!-- 数据分析服务 -->
  <rect x="740" y="630" width="200" height="90" rx="4" fill="#ffffff" stroke="#faad14" stroke-width="1"/>
  <text x="840" y="650" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">数据分析服务</text>
  <text x="750" y="665" font-family="Arial, sans-serif" font-size="10" fill="#666">• 统计分析</text>
  <text x="750" y="680" font-family="Arial, sans-serif" font-size="10" fill="#666">• 趋势预测</text>
  <text x="750" y="695" font-family="Arial, sans-serif" font-size="10" fill="#666">• 异常检测</text>
  <text x="750" y="710" font-family="Arial, sans-serif" font-size="10" fill="#666">• 智能报告</text>
  
  <!-- 数据导出服务 -->
  <rect x="960" y="630" width="180" height="90" rx="4" fill="#ffffff" stroke="#ff4d4f" stroke-width="1"/>
  <text x="1050" y="650" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">数据导出服务</text>
  <text x="970" y="665" font-family="Arial, sans-serif" font-size="10" fill="#666">• 多格式导出</text>
  <text x="970" y="680" font-family="Arial, sans-serif" font-size="10" fill="#666">• 定时任务</text>
  <text x="970" y="695" font-family="Arial, sans-serif" font-size="10" fill="#666">• 数据备份</text>
  <text x="970" y="710" font-family="Arial, sans-serif" font-size="10" fill="#666">• 报表生成</text>
  
  <!-- 连接线 -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
    </marker>
  </defs>
  
  <line x1="600" y1="230" x2="600" y2="250" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="600" y1="400" x2="600" y2="420" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="600" y1="570" x2="600" y2="590" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- 数据流量指示 -->
  <text x="50" y="780" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">数据流量统计：</text>
  <text x="160" y="780" font-family="Arial, sans-serif" font-size="11" fill="#666">实时数据: 10GB/天 | 历史数据: 500GB | 缓存命中率: 95%</text>
  
  <text x="1150" y="790" text-anchor="end" font-family="Arial, sans-serif" font-size="10" fill="#999">
    Version 2.0 | 2024-01-15
  </text>
</svg>
