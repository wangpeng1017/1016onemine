<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="integrationGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#722ed1;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#eb2f96;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-color="#00000020"/>
    </filter>
  </defs>
  
  <rect width="1200" height="800" fill="#fafafa"/>
  
  <!-- 标题 -->
  <rect x="0" y="0" width="1200" height="60" fill="url(#integrationGrad)"/>
  <text x="600" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="white">
    矿山监测系统 - 集成架构图
  </text>
  
  <!-- 前端应用层 -->
  <rect x="50" y="80" width="1100" height="120" rx="8" fill="#f9f0ff" stroke="#722ed1" stroke-width="2" filter="url(#shadow)"/>
  <text x="70" y="105" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#722ed1">前端应用层 (Frontend Applications)</text>
  
  <!-- Web应用 -->
  <rect x="80" y="120" width="200" height="60" rx="4" fill="#ffffff" stroke="#1890ff" stroke-width="1"/>
  <text x="180" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">Web管理平台</text>
  <text x="180" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">React + TypeScript</text>
  <text x="180" y="168" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">Ant Design UI</text>
  
  <!-- 移动应用 -->
  <rect x="300" y="120" width="200" height="60" rx="4" fill="#ffffff" stroke="#52c41a" stroke-width="1"/>
  <text x="400" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">移动监控APP</text>
  <text x="400" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">React Native</text>
  <text x="400" y="168" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">跨平台支持</text>
  
  <!-- 大屏展示 -->
  <rect x="520" y="120" width="200" height="60" rx="4" fill="#ffffff" stroke="#faad14" stroke-width="1"/>
  <text x="620" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">大屏可视化</text>
  <text x="620" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">ECharts + WebGL</text>
  <text x="620" y="168" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">实时数据展示</text>
  
  <!-- 第三方集成 -->
  <rect x="740" y="120" width="200" height="60" rx="4" fill="#ffffff" stroke="#ff4d4f" stroke-width="1"/>
  <text x="840" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">第三方系统</text>
  <text x="840" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">OA系统集成</text>
  <text x="840" y="168" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">统一身份认证</text>
  
  <!-- API接口 -->
  <rect x="960" y="120" width="180" height="60" rx="4" fill="#ffffff" stroke="#13c2c2" stroke-width="1"/>
  <text x="1050" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">开放API</text>
  <text x="1050" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">RESTful API</text>
  <text x="1050" y="168" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">GraphQL支持</text>
  
  <!-- API网关层 -->
  <rect x="50" y="220" width="1100" height="100" rx="8" fill="#e6f7ff" stroke="#1890ff" stroke-width="2" filter="url(#shadow)"/>
  <text x="70" y="245" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1890ff">API网关层 (API Gateway)</text>
  
  <!-- 网关服务 -->
  <rect x="80" y="260" width="250" height="40" rx="4" fill="#ffffff" stroke="#1890ff" stroke-width="1"/>
  <text x="205" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">Kong/Nginx Gateway</text>
  
  <!-- 负载均衡 -->
  <rect x="350" y="260" width="200" height="40" rx="4" fill="#ffffff" stroke="#52c41a" stroke-width="1"/>
  <text x="450" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">负载均衡</text>
  
  <!-- 安全认证 -->
  <rect x="570" y="260" width="200" height="40" rx="4" fill="#ffffff" stroke="#faad14" stroke-width="1"/>
  <text x="670" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">OAuth2/JWT</text>
  
  <!-- 限流熔断 -->
  <rect x="790" y="260" width="200" height="40" rx="4" fill="#ffffff" stroke="#ff4d4f" stroke-width="1"/>
  <text x="890" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">限流熔断</text>
  
  <!-- 监控日志 -->
  <rect x="1010" y="260" width="130" height="40" rx="4" fill="#ffffff" stroke="#722ed1" stroke-width="1"/>
  <text x="1075" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">监控日志</text>
  
  <!-- 微服务层 -->
  <rect x="50" y="340" width="1100" height="180" rx="8" fill="#f6ffed" stroke="#52c41a" stroke-width="2" filter="url(#shadow)"/>
  <text x="70" y="365" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#52c41a">微服务层 (Microservices)</text>
  
  <!-- 监测数据服务 -->
  <rect x="80" y="380" width="180" height="120" rx="4" fill="#ffffff" stroke="#1890ff" stroke-width="1"/>
  <text x="170" y="400" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">监测数据服务</text>
  <text x="90" y="420" font-family="Arial, sans-serif" font-size="10" fill="#666">• 数据采集</text>
  <text x="90" y="435" font-family="Arial, sans-serif" font-size="10" fill="#666">• 实时处理</text>
  <text x="90" y="450" font-family="Arial, sans-serif" font-size="10" fill="#666">• 存储管理</text>
  <text x="90" y="465" font-family="Arial, sans-serif" font-size="10" fill="#666">• 查询接口</text>
  <text x="90" y="480" font-family="Arial, sans-serif" font-size="10" fill="#666">• Spring Boot</text>
  <text x="90" y="495" font-family="Arial, sans-serif" font-size="10" fill="#666">• Docker部署</text>
  
  <!-- GIS地图服务 -->
  <rect x="280" y="380" width="180" height="120" rx="4" fill="#ffffff" stroke="#722ed1" stroke-width="1"/>
  <text x="370" y="400" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">GIS地图服务</text>
  <text x="290" y="420" font-family="Arial, sans-serif" font-size="10" fill="#666">• 空间数据</text>
  <text x="290" y="435" font-family="Arial, sans-serif" font-size="10" fill="#666">• 图层管理</text>
  <text x="290" y="450" font-family="Arial, sans-serif" font-size="10" fill="#666">• 地图渲染</text>
  <text x="290" y="465" font-family="Arial, sans-serif" font-size="10" fill="#666">• 空间分析</text>
  <text x="290" y="480" font-family="Arial, sans-serif" font-size="10" fill="#666">• GeoServer</text>
  <text x="290" y="495" font-family="Arial, sans-serif" font-size="10" fill="#666">• PostGIS</text>
  
  <!-- 告警服务 -->
  <rect x="480" y="380" width="180" height="120" rx="4" fill="#ffffff" stroke="#ff4d4f" stroke-width="1"/>
  <text x="570" y="400" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">告警通知服务</text>
  <text x="490" y="420" font-family="Arial, sans-serif" font-size="10" fill="#666">• 规则引擎</text>
  <text x="490" y="435" font-family="Arial, sans-serif" font-size="10" fill="#666">• 实时监控</text>
  <text x="490" y="450" font-family="Arial, sans-serif" font-size="10" fill="#666">• 多渠道推送</text>
  <text x="490" y="465" font-family="Arial, sans-serif" font-size="10" fill="#666">• 升级策略</text>
  <text x="490" y="480" font-family="Arial, sans-serif" font-size="10" fill="#666">• Kafka MQ</text>
  <text x="490" y="495" font-family="Arial, sans-serif" font-size="10" fill="#666">• WebSocket</text>
  
  <!-- 用户管理服务 -->
  <rect x="680" y="380" width="180" height="120" rx="4" fill="#ffffff" stroke="#faad14" stroke-width="1"/>
  <text x="770" y="400" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">用户管理服务</text>
  <text x="690" y="420" font-family="Arial, sans-serif" font-size="10" fill="#666">• 身份认证</text>
  <text x="690" y="435" font-family="Arial, sans-serif" font-size="10" fill="#666">• 权限控制</text>
  <text x="690" y="450" font-family="Arial, sans-serif" font-size="10" fill="#666">• 角色管理</text>
  <text x="690" y="465" font-family="Arial, sans-serif" font-size="10" fill="#666">• 审计日志</text>
  <text x="690" y="480" font-family="Arial, sans-serif" font-size="10" fill="#666">• Spring Security</text>
  <text x="690" y="495" font-family="Arial, sans-serif" font-size="10" fill="#666">• LDAP集成</text>
  
  <!-- 配置管理服务 -->
  <rect x="880" y="380" width="180" height="120" rx="4" fill="#ffffff" stroke="#13c2c2" stroke-width="1"/>
  <text x="970" y="400" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">配置管理服务</text>
  <text x="890" y="420" font-family="Arial, sans-serif" font-size="10" fill="#666">• 动态配置</text>
  <text x="890" y="435" font-family="Arial, sans-serif" font-size="10" fill="#666">• 版本管理</text>
  <text x="890" y="450" font-family="Arial, sans-serif" font-size="10" fill="#666">• 环境隔离</text>
  <text x="890" y="465" font-family="Arial, sans-serif" font-size="10" fill="#666">• 热更新</text>
  <text x="890" y="480" font-family="Arial, sans-serif" font-size="10" fill="#666">• Nacos</text>
  <text x="890" y="495" font-family="Arial, sans-serif" font-size="10" fill="#666">• Apollo</text>
  
  <!-- 数据存储层 -->
  <rect x="50" y="540" width="1100" height="120" rx="8" fill="#fff7e6" stroke="#faad14" stroke-width="2" filter="url(#shadow)"/>
  <text x="70" y="565" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#faad14">数据存储层 (Data Storage)</text>
  
  <!-- 主数据库 -->
  <rect x="80" y="580" width="200" height="60" rx="4" fill="#ffffff" stroke="#1890ff" stroke-width="1"/>
  <text x="180" y="600" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">主数据库集群</text>
  <text x="180" y="615" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">PostgreSQL主从</text>
  <text x="180" y="628" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">读写分离</text>
  
  <!-- 时序数据库 -->
  <rect x="300" y="580" width="200" height="60" rx="4" fill="#ffffff" stroke="#52c41a" stroke-width="1"/>
  <text x="400" y="600" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">时序数据库</text>
  <text x="400" y="615" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">InfluxDB集群</text>
  <text x="400" y="628" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">高频数据存储</text>
  
  <!-- 缓存集群 -->
  <rect x="520" y="580" width="200" height="60" rx="4" fill="#ffffff" stroke="#ff4d4f" stroke-width="1"/>
  <text x="620" y="600" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">缓存集群</text>
  <text x="620" y="615" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">Redis哨兵模式</text>
  <text x="620" y="628" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">高可用缓存</text>
  
  <!-- 消息队列 -->
  <rect x="740" y="580" width="200" height="60" rx="4" fill="#ffffff" stroke="#722ed1" stroke-width="1"/>
  <text x="840" y="600" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">消息队列</text>
  <text x="840" y="615" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">Kafka集群</text>
  <text x="840" y="628" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">异步消息处理</text>
  
  <!-- 文件存储 -->
  <rect x="960" y="580" width="180" height="60" rx="4" fill="#ffffff" stroke="#13c2c2" stroke-width="1"/>
  <text x="1050" y="600" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#262626">对象存储</text>
  <text x="1050" y="615" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">MinIO/OSS</text>
  <text x="1050" y="628" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">分布式存储</text>
  
  <!-- 基础设施层 -->
  <rect x="50" y="680" width="1100" height="80" rx="8" fill="#f0f5ff" stroke="#722ed1" stroke-width="2" filter="url(#shadow)"/>
  <text x="70" y="705" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#722ed1">基础设施层 (Infrastructure)</text>
  
  <!-- 容器编排 -->
  <rect x="80" y="720" width="180" height="30" rx="4" fill="#ffffff" stroke="#1890ff" stroke-width="1"/>
  <text x="170" y="738" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#262626">Kubernetes集群</text>
  
  <!-- 服务网格 -->
  <rect x="280" y="720" width="180" height="30" rx="4" fill="#ffffff" stroke="#52c41a" stroke-width="1"/>
  <text x="370" y="738" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#262626">Istio服务网格</text>
  
  <!-- 监控告警 -->
  <rect x="480" y="720" width="180" height="30" rx="4" fill="#ffffff" stroke="#faad14" stroke-width="1"/>
  <text x="570" y="738" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#262626">Prometheus+Grafana</text>
  
  <!-- 日志收集 -->
  <rect x="680" y="720" width="180" height="30" rx="4" fill="#ffffff" stroke="#ff4d4f" stroke-width="1"/>
  <text x="770" y="738" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#262626">ELK日志系统</text>
  
  <!-- 持续集成 -->
  <rect x="880" y="720" width="180" height="30" rx="4" fill="#ffffff" stroke="#722ed1" stroke-width="1"/>
  <text x="970" y="738" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#262626">Jenkins CI/CD</text>
  
  <!-- 外部系统集成 -->
  <rect x="1080" y="720" width="60" height="30" rx="4" fill="#ffffff" stroke="#13c2c2" stroke-width="1"/>
  <text x="1110" y="738" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#262626">云平台</text>
  
  <!-- 连接线 -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
    </marker>
  </defs>
  
  <!-- 垂直连接线 -->
  <line x1="600" y1="200" x2="600" y2="220" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="600" y1="320" x2="600" y2="340" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="600" y1="520" x2="600" y2="540" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="600" y1="660" x2="600" y2="680" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- 横向连接线 -->
  <line x1="170" y1="380" x2="170" y2="320" stroke="#1890ff" stroke-width="1" stroke-dasharray="5,5"/>
  <line x1="370" y1="380" x2="370" y2="320" stroke="#722ed1" stroke-width="1" stroke-dasharray="5,5"/>
  <line x1="570" y1="380" x2="570" y2="320" stroke="#ff4d4f" stroke-width="1" stroke-dasharray="5,5"/>
  <line x1="770" y1="380" x2="770" y2="320" stroke="#faad14" stroke-width="1" stroke-dasharray="5,5"/>
  <line x1="970" y1="380" x2="970" y2="320" stroke="#13c2c2" stroke-width="1" stroke-dasharray="5,5"/>
  
  <!-- 版本信息 -->
  <text x="1150" y="790" text-anchor="end" font-family="Arial, sans-serif" font-size="10" fill="#999">
    Version 2.0 | 2024-01-15
  </text>
</svg>
